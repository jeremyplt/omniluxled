/*
Generated time: August 7, 2024 11:02
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
class quickShop extends HTMLElement{constructor(){super(),this.closeBy=this.querySelector(".close-quickshop"),this.bindEvents(),"iPhone"===navigator.platform&&document.documentElement.style.setProperty("--viewport-height",window.innerHeight+"px")}onKeyUp(e){"ESCAPE"===e.code.toUpperCase()&&this.querySelector(".close-quickshop").dispatchEvent(new Event("click"))}bindEvents(){this.openeBy=document.querySelectorAll(".quickshop--button"),this.openeBy.forEach(e=>e.addEventListener("click",this.openQuickShop.bind(this))),this.addEventListener("keyup",this.onKeyUp.bind(this))}updateEvents(){this.openeBy=document.querySelectorAll(".quickshop--button"),this.openeBy&&this.openeBy.forEach(e=>e.addEventListener("click",this.openQuickShop.bind(this)))}async _loadQuickShop(e){return(await(await fetch(`/products/${e}?view=quickshop&sections=template-product-quickshop`)).json())["template-product-quickshop"]}openQuickShop(t){t.preventDefault();let i=t.currentTarget;var e=i.dataset.handle;e&&this._loadQuickShop(e).then(e=>{this.innerHTML=e,this.querySelector(".modal").classList.add("open"),siteOverlay.prototype.showOverlay(),this.querySelector(".product-title")&&Utility.forceFocus(this.querySelector(".product-title")),this.closeBy=this.querySelector(".close-quickshop"),this.closeBy&&this.closeBy.addEventListener("click",this.closeQuickShop.bind(this)),Utility.trapFocus(this,this.closeBy),t&&i.setAttribute("aria-expanded",!0)})}closeQuickShop(e,t=!1){void 0!==e&&(e.preventDefault(),this.innerHTML="",quickShopSlider=null,siteOverlay.prototype.hideOverlay(),(e=document.querySelector('.quickshop--button[aria-expanded="true"]')).setAttribute("aria-expanded",!1),Utility.removeTrapFocus(t),Utility.forceFocus(e))}}customElements.define("quick-shop",quickShop);