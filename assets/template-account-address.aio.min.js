/*
Generated time: August 7, 2024 11:02
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
Shopify.bind=function(e,t){return function(){return e.apply(t,arguments)}},Shopify.setSelectorByValue=function(n,r){for(let e=0,t=n.options.length;e<t;e++){var o=n.options[e];if(r==o.value||r==o.innerHTML)return n.selectedIndex=e}},Shopify.addListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},Shopify.postLink=function(e,t){var n,r=(t=t||{}).method||"post",o=t.parameters||{},s=document.createElement("form");for(n in s.setAttribute("method",r),s.setAttribute("action",e),o){var i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name",n),i.setAttribute("value",o[n]),s.appendChild(i)}document.body.appendChild(s),s.submit(),document.body.removeChild(s)},Shopify.CountryProvinceSelector=function(e,t,n){this.countryEl=document.getElementById(e),this.provinceEl=document.getElementById(t),this.provinceContainer=document.getElementById(n.hideElement||t),Shopify.addListener(this.countryEl,"change",Shopify.bind(this.countryHandler,this)),this.initCountry(),this.initProvince()},Shopify.CountryProvinceSelector.prototype={initCountry:function(){var e=this.countryEl.getAttribute("data-default");Shopify.setSelectorByValue(this.countryEl,e),this.countryHandler()},initProvince:function(){var e=this.provinceEl.getAttribute("data-default");e&&0<this.provinceEl.options.length&&Shopify.setSelectorByValue(this.provinceEl,e)},countryHandler:function(e){var t=this.countryEl.options[this.countryEl.selectedIndex].getAttribute("data-provinces"),t=JSON.parse(t);this.clearOptions(this.provinceEl),t&&0==t.length?this.provinceContainer.style.display="none":(t.forEach(e=>{var t=document.createElement("option");t.value=e[0],t.innerHTML=e[1],this.provinceEl.appendChild(t)}),this.provinceContainer.style.display="")},clearOptions:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},setOptions:function(n,e){e.forEach(e=>{var t=document.createElement("option");t.value=e,t.innerHTML=e,n.appendChild(t)})}};let selectors={customerAddresses:"[data-customer-addresses]",addressCountrySelect:"[data-address-country-select]",toggleAddressButton:"[data-edit-address]",cancelAddressButton:"[data-reset-address]",deleteAddressButton:"[data-confirm-message]"};class CustomerAddresses{constructor(){this.elements=this._getElements(),0!==Object.keys(this.elements).length&&(this._setupCountries(),this._setupEventListeners())}_getElements(){var e=document.querySelector(selectors.customerAddresses);return e?{container:e,newAddressForm:document.querySelector(selectors.newAddressButton),editAddressToggle:document.querySelectorAll(selectors.toggleAddressButton),cancelButtons:e.querySelectorAll(selectors.cancelAddressButton),deleteButtons:e.querySelectorAll(selectors.deleteAddressButton),countrySelects:e.querySelectorAll(selectors.addressCountrySelect)}:{}}_setupCountries(){Shopify&&Shopify.CountryProvinceSelector&&(new Shopify.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"}),this.elements.countrySelects.forEach(e=>{e=e.dataset.formId;document.getElementById("AddressCountry_"+e)&&new Shopify.CountryProvinceSelector("AddressCountry_"+e,"AddressProvince_"+e,{hideElement:"AddressProvinceContainer_"+e})}))}_setupEventListeners(){this.elements.editAddressToggle.forEach(e=>{e.addEventListener("click",this._handleToggleForm.bind(this))}),this.elements.cancelButtons.forEach(e=>{e.addEventListener("click",this._handleCancelButtonClick.bind(this))}),this.elements.deleteButtons.forEach(e=>{e.addEventListener("click",this._handleDeleteButtonClick)})}_handleToggleForm=e=>{e.preventDefault();let t=document.querySelector("[data-editAddressContainer]");var n=document.querySelector("[data-newAddressContainer]");let r=e.currentTarget;e=r.dataset.target;let o=document.querySelector(e);"add_address"==r.dataset.for&&(t=n),o&&(o.classList.contains("open")?(Utility.toggleElement(t,"close"),r.setAttribute("aria-expanded",!1),o.removeAttribute("data-type")):(this._hideOpenforms(),setTimeout(()=>{r.setAttribute("aria-expanded",!0),o.setAttribute("data-type","content"),Utility.toggleElement(t,"open"),o.scrollIntoView({behavior:"smooth"})},500)))};_hideOpenforms(){let t=document.querySelector("[data-editAddressContainer]");var e=t.querySelectorAll(".customer-form.open"),e=(document.querySelectorAll('[data-edit-address][aria-expanded="true"]').forEach(e=>{e.setAttribute("aria-expanded",!1)}),e.forEach(e=>{Utility.toggleElement(t,"close"),e.removeAttribute("data-type")}),document.querySelector("[data-newAddressContainer]"));Utility.toggleElement(e,"close")}_handleCancelButtonClick=e=>{e.preventDefault(),this._hideOpenforms()};_handleDeleteButtonClick=({currentTarget:e})=>{confirm(e.getAttribute("data-confirm-message"))&&Shopify.postLink(e.dataset.target,{parameters:{_method:"delete"}})}}void 0!==CustomerAddresses&&new CustomerAddresses;