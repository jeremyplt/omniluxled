/*
Generated time: August 7, 2024 11:02
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
let json=document.querySelector("[data-login-json]").innerHTML,loginHelper=JSON.parse(json);function _submitLoginHelperForm(){var e=document.querySelector('[name="customer[email]"]').value;let l=document.querySelector('[name="customer[password]"]').value;if(null!=e&&0<e.length)if(null==Utility.validateEmail(e))document.querySelector("[data-login-alert]").innerHTML="<p>Provide Valid Email Address.</p>",document.querySelector("[data-login-alert]").classList.remove("d-none"),setTimeout(()=>{document.querySelector("[data-login-alert]").innerHTML="",document.querySelector("[data-login-alert]").classList.add("d-none")},3e3);else{e=JSON.stringify({url:"/customers/search.json",method:"GET",data:{email:e.toLowerCase()}});let a=new XMLHttpRequest;a.withCredentials=!0,a.addEventListener("load",function(){var e,t,o=JSON.parse(a.responseText);let n="",s="";null!=o&&(1==o.customers.length?("disabled"==o.customers[0].state?(unescape(loginHelper.settings.account_disable).split(".").forEach(e=>{n+=e+"."}),e=JSON.stringify({url:`/customers/${o.customers[0].id}/send_invite.json`,method:"POST",data:{customer_invite:{to:""+o.customers[0].email.toLowerCase(),from:""+loginHelper.sender_email,bcc:[],subject:"Customer account activation",custom_message:`Hi ${o.customers[0].first_name}, you've created a new customer account at PROJECT-NAME. All you have to do is activate it.`}}}),(t=new XMLHttpRequest).withCredentials=!0,t.addEventListener("load",function(){}),t.open("POST","/tools/ha-api/shopify/common"),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Content-Type","application/json"),t.send(e)):"invited"==o.customers[0].state?(unescape(loginHelper.settings.account_invited).split(".").forEach(e=>{n+=e+"."}),s="invited"):"enabled"==o.customers[0].state?(unescape(loginHelper.settings.account_enable).split(".").forEach(e=>{n+=e+"."}),s="enabled"):"declined"==o.customers[0].state&&(unescape(loginHelper.settings.account_declined).split(".").forEach(e=>{n+=e+"."}),s="declined"),loginHelper.status=o.customers[0].state):(unescape(loginHelper.settings.account_not_found).split(".").forEach(e=>{n+=e+".<br/>"}),loginHelper.status="other"),loginHelper.message=n,document.querySelector("[data-login-alert]").innerHTML=`<p>${loginHelper.message}</p>`,document.querySelector("[data-login-alert]").classList.remove("d-none"),l&&0<l.length?document.querySelector("[data-login-form] form").submit():"enabled"==s&&document.querySelector("[data-password-wrap]").classList.remove("d-none"))}),a.open("POST","/tools/ha-api/shopify/common"),a.setRequestHeader("Accept","application/json"),a.setRequestHeader("Content-Type","application/json"),a.send(e)}else document.querySelector("[data-login-alert]").innerHTML="<p>Provide Email Address.</p>",document.querySelector("[data-login-alert]").classList.remove("d-none"),setTimeout(()=>{document.querySelector("[data-login-alert]").innerHTML="",document.querySelector("[data-login-alert]").classList.add("d-none")},3e3)}document.querySelector("[data-login-submit]").addEventListener("click",function(e){e.preventDefault(),_submitLoginHelperForm()});