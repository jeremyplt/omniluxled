/*
Generated time: August 7, 2024 11:02
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
let forms=document.querySelectorAll(".hoox-newsletter__form");function isEmailValid(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)}forms.forEach(function(l){l.addEventListener("submit",function(e){e.preventDefault();let t=l.closest(".hoox-shop__newsletter"),o=l.querySelector(".js-newsletter-email"),s=l.querySelector(".js-newsletter-button");e=o.value;isEmailValid(e)?fetch("https://manage.kmail-lists.com/ajax/subscriptions/subscribe",{method:"POST",headers:{accept:"application/json, text/plain, */*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({g:"Rg6kFQ",email:e})}).then(function(e){e.ok?(s.disabled=!1,o.value="",t.classList.add("success"),forms.forEach(function(e){e!==l&&e.closest(".hoox-shop__newsletter").classList.add("submitted")})):(o.value="",s.disabled=!0,t.classList.remove("success"),t.classList.add("error"))}).catch(function(e){o.value="",s.disabled=!0,t.classList.add("error")}):(o.value="",s.disabled=!0,t.classList.remove("success"),t.classList.add("error"))})});let body=document.querySelector("body"),popupNewsletter=document.querySelector(".hoox-popup"),closeButton=document.querySelector(".hoox-popup__close"),outsideClick=document.querySelector(".hoox-popup__outside");function showNewsletterPopup(){popupNewsletter&&(popupNewsletter.style.display="flex",body.style.setProperty("overflow","hidden","important"))}function closeNewsletterPopup(){popupNewsletter.style.display="none",body.style.setProperty("overflow","unset","important")}popupNewsletter&&(closeButton.addEventListener("click",closeNewsletterPopup),outsideClick.addEventListener("click",function(e){e.target===outsideClick&&closeNewsletterPopup()})),window.addEventListener("load",function(){setTimeout(showNewsletterPopup,5e3)});